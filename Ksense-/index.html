<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./index.css">
    <script defer src="app.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <title>Document</title>
</head>
<header>
    <h1 class="header">Ksense</h1>
</header>
<body>
    <h2></h2>
    <table class="htmlTable">
        
    </table>



<script>
    const htmlTable = document.querySelector('table')

    const handler = async () => {
    try {
        const url = 'https://jsonplaceholder.typicode.com/'
        const firstUrl = url + 'users'
        const secondUrl = url + 'posts'
        const res = await Promise.all([fetch(firstUrl),fetch(secondUrl)])
        // const res2 = await axios.get(data)
        const data1 = await res[0].json()
        const data2 = await res[1].json()
        
        // console.log(data1)   
        // console.log(data2)
        
        for(let i = 0; i < data1.length; i++) {
            const tableRow = document.createElement('tr')
            const row = document.createElement('td')
            const buttonRow = document.createElement('button')
            buttonRow.classList.add('markupButton')
            row.classList.add('markup')
            buttonRow.innerText = `${data1[i].username}`
            
            row.appendChild(buttonRow)
            tableRow.appendChild(row)
            htmlTable.appendChild(tableRow)
        }
        
       
    }
    catch(error) {
        console.log(error)
    }
    
}
   



    


</script>


    <!-- <script>
    
        fetch('https://jsonplaceholder.typicode.com/users')
    .then(res => {
        return res.json()
    })
    .then(data => {
        post = data
        return fetch('https://jsonplaceholder.typicode.com/posts')       
    })
    .then(userData => {
        post.forEach(user => {
            const markup = `<td class='markup'><button type='button' id='markupButton'>${user.username}`
            document.querySelector('table').insertAdjacentHTML('beforeend', markup)
        })     
    })
    .then(userData => {
        post.forEach(user => {
            const newDiv = document.createElement('div')
            const newP = document.createElement('p')
            const newContent = document.createTextNode('This the world')
            newP.appendChild(newContent)
            newDiv.appendChild(newP)
            const currentDiv = document.getElementById('markupButton')
            document.querySelectorAll('currentDiv').insertAdjacentElement('beforeend',newDiv)
        })



        // const newDiv = document.createElement('div')
        // const newP = document.createElement('p')
        // const newContent = document.createTextNode('This the world')
        // newP.appendChild(newContent)
        // newDiv.appendChild(newP)
        // console.log(newDiv)

        // const currentDiv = document.getElementById('markupButton')
        // document.querySelectorAll('currentDiv').insertAdjacentElement('beforeend',newDiv)
        // console.log(test)
    })

    
    .catch(error => console.log(error))
    </script> -->
</body>
</html>